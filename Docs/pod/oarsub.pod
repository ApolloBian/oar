=head1 NAME

oarsub - submit a job to OAR batch scheduler.

=head1 SYNOPSIS

B<oarsub> [OPTIONS] [-C|-I|<SCRIPT>]

=head1 DESCRIPTION

This command is used to submit a job to OAR batch scheduler. Jobs can be a program or a script which contains description of this job.


=head1 OPTIONS

=over

=item B<-l, --resource> /property1=number1/property2=number2/...,walltime=3:20:00

Defines resource list requested for a job.

You can get resource property names with the command oarnodes.

=item B<-q, --queue> queuename

Specifies the destination queue.

=item B<-p, --property> property

Specify (with the SQL syntax) job properties.

=item B<-I, --interactive>

Interactive mode.
Give you a shell on the first reserved node.

=item B<-r, --reservation> date

Ask for a reservation job on the date in argument

=item B<-C, --Connect> job_id

Connect to a reservation in Running state

=item B<-v, --verbose>

Print OAR version number.

=item B<-s, --stagein> directory|tgz

Set the stagein directory or archive.

=item B<-m, --stagein-md5sum> md5sum

Set the stagein file md5sum.

=item B<-k, --checkpoint> number_of_seconds

Ask OAR to send the checkpoint signal to the first processus of the job "number_of_seconds" before the walltime (default signal is SIGUSR2).

=item B<--signal> number

specify the signal to use when checkpointing.

=item B<-t, --type> type

Specify a specific type (deploy, besteffort, cosystem, checkpoint).

=item B<-d, --directory> path

Specify the directory where to launch the command (default is current directory).

=item B<-n, --name> string

Specify an arbitrary name for the job.

=item B<--project> string

Specify the name of the project corresponding to the job.

=item B<-e, --env> string

Environment variables to set on the running proccess in the form "A=b C=d".

=item B<-a, --anterior> job_id

Anterior job that must be terminated to start this new one.

=item B<--notify> string

specify a notification method(mail or program to launch); ex:
    --notify "mail:name@domain.com"
    --notify "exec:/path/to/script args"

=item B<--stdout> string

Specify the name of the standard output file.

=item B<--stderr> string

Specify the name of the error output file.

=item B<--resubmit> job_id

Resubmit the given job to a new one.

=item B<--force_cpuset_name>

Instead of using job_id for the cpuset name you can specify one (WARNING: if several jobs have the same cpuset name then processes of a job could be killed when another finished on the same computer).

=item B<--hold>

Set the job state into Hold instead of Waiting; so it is not scheduled (you must run "oarresume" to turn it into the Waiting state).

=item B<-v, --version>

Print OAR version number.

=item B<-h, --help>

Print help message.

=back

=head1 SCRIPT

Script can contain the description of the job. Lines with options must begin by the key B<#OAR>. There are the same options as previous.

=head1 EXAMPLE

Job submission with arguments :

=over

=item oarsub -l /node=4 -I

=item oarsub -q default -l walltime=50:30:00,/node=10/cpu=3 -p "switch = 'sw1'" /home/users/toto/prog

=item oarsub -r "2004-04-27 11:00:00" -l /node=12/cpu=2

=item oarsub -C 154

=back

Script example:

=over

=item #OAR -l /node=4

=item #OAR -q long -l walltime=2:30

=item /home/users/toto/prog

=back

Submit the script :

=over

=item oarsub /home/users/toto/script

=back

=head1 SEE ALSO

oardel(1), oarstat(1), oarnodes(1), oarhold(1), oarresume(1)

=head1 COPYRIGHTS

 Copyright © 2003 Laboratoire Id-Imag (http://www-id.imag.fr). This software is licensed under the GNU Library General Public License. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
